import{a}from"./audio-manager-BoM9ZqFN.js";const n={timeAttack:{id:"timeAttack",name:"Time Attack",description:"60 seconds ‚Äî score as high as you can!",icon:"‚è±Ô∏è",duration:60,lives:1/0,spawnInterval:1500,maxTargets:8,targetLifetime:5e3,xpMultiplier:1,unlockLevel:1},survival:{id:"survival",name:"Survival",description:"3 lives ‚Äî miss a target, lose a life!",icon:"‚ù§Ô∏è",duration:1/0,lives:3,spawnInterval:2e3,maxTargets:6,targetLifetime:4e3,xpMultiplier:1.5,unlockLevel:2},zen:{id:"zen",name:"Zen Mode",description:"No timer, no pressure ‚Äî just practice",icon:"üßò",duration:1/0,lives:1/0,spawnInterval:2500,maxTargets:5,targetLifetime:8e3,xpMultiplier:.5,unlockLevel:1},bossRush:{id:"bossRush",name:"Boss Rush",description:"Face increasingly tough boss targets!",icon:"üëπ",duration:1/0,lives:5,spawnInterval:3e3,maxTargets:4,targetLifetime:6e3,xpMultiplier:2,unlockLevel:8}};class o{constructor(){this._current="timeAttack",this._lives=1/0,this._listeners=[]}get current(){return n[this._current]}get currentId(){return this._current}get lives(){return this._lives}get all(){return n}select(e){return n[e]?(this._current=e,this._notify(),!0):!1}startRound(){this._lives=this.current.lives}loseLife(){return this._lives===1/0?!1:(this._lives--,this._notify(),this._lives<=0)}isGameOver(e){return this._lives!==1/0&&this._lives<=0||this.current.duration!==1/0&&e<=0}isUnlocked(e,t){const r=n[e];return r&&t>=r.unlockLevel}onChange(e){this._listeners.push(e)}_notify(){this._listeners.forEach(e=>e(this.current))}}const c=new o,i={pistol:{id:"pistol",name:"Pistol",description:"Balanced precision shooter",icon:"üî´",damage:1,fireRate:0,spread:0,projectiles:1,laserColor:"#ff4444",laserOpacity:.7,hapticIntensity:.3,hapticDuration:50,unlockLevel:1,sound:"pistol"},shotgun:{id:"shotgun",name:"Shotgun",description:"Wide spread, hits multiple targets",icon:"üí•",damage:1,fireRate:800,spread:.15,projectiles:5,laserColor:"#ff8800",laserOpacity:.5,hapticIntensity:.8,hapticDuration:100,unlockLevel:3,sound:"shotgun"},sniper:{id:"sniper",name:"Sniper",description:"Slow fire, double points",icon:"üéØ",damage:2,fireRate:1500,spread:0,projectiles:1,laserColor:"#00ff88",laserOpacity:.9,hapticIntensity:.6,hapticDuration:80,unlockLevel:5,sound:"sniper"}};class l{constructor(){this._current="pistol",this._lastFireTime=0,this._listeners=[]}get current(){return i[this._current]}get currentId(){return this._current}get all(){return i}select(e){return i[e]?(this._current=e,this._notify(),!0):!1}canFire(){const e=this.current;return e.fireRate===0?!0:Date.now()-this._lastFireTime>=e.fireRate}fire(){if(!this.canFire())return null;this._lastFireTime=Date.now();const e=this.current;return a.playWeaponFire(e.sound),e}isUnlocked(e,t){const r=i[e];return r&&t>=r.unlockLevel}getLockedWeapons(e){return Object.values(i).filter(t=>e<t.unlockLevel)}getUnlockedWeapons(e){return Object.values(i).filter(t=>e>=t.unlockLevel)}onChange(e){this._listeners.push(e)}_notify(){this._listeners.forEach(e=>e(this.current))}}const p=new l;export{n as G,i as W,c as g,p as w};
