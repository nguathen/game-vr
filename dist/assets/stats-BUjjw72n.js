import{a as r}from"./auth-manager-Cgi3t6lo.js";import{G as h,W as p}from"./weapon-system-d2_OwAli.js";import"./audio-manager-BRKiiRd-.js";function C(t){const a=document.getElementById("transition");a.classList.add("active"),requestAnimationFrame(()=>a.classList.remove("active")),E(t),v(t),g(t),b(t),document.getElementById("btn-back").addEventListener("click",()=>{a.classList.add("active"),setTimeout(()=>{window.location.href="./index.html"},300)})}function E(t){const a=document.getElementById("stats-summary");[{label:"Games",value:t.gamesPlayed||0},{label:"Targets Hit",value:t.totalTargetsHit||0},{label:"Best Combo",value:`x${t.bestCombo||0}`},{label:"Total XP",value:t.totalXp||0},{label:"Level",value:t.level||1},{label:"Coins",value:t.coins||0}].forEach(n=>{const e=document.createElement("div");e.className="stat-card";const s=document.createElement("div");s.className="stat-card-label",s.textContent=n.label;const c=document.createElement("div");c.className="stat-card-value",c.textContent=n.value,e.appendChild(c),e.appendChild(s),a.appendChild(e)})}function v(t){const a=document.getElementById("stats-modes"),l=t.highScores||{},n=t.modeStats||{};if(Object.values(h).forEach(e=>{const s=n[e.id]||{},c=l[e.id]||0,o=s.games||0;if(c===0&&o===0)return;const d=document.createElement("div");d.className="high-score-row";const m=document.createElement("span");m.textContent=`${e.icon} ${e.name}`;const i=document.createElement("span");i.className="hs-value",i.textContent=`Best: ${c} | ${o} games`,d.appendChild(m),d.appendChild(i),a.appendChild(d)}),a.children.length===0){const e=document.createElement("p");e.className="no-scores",e.textContent="No mode data yet",a.appendChild(e)}}function g(t){const a=document.getElementById("stats-weapons"),l=t.weaponUsage||{};if(Object.values(p).forEach(n=>{const e=l[n.id]||0;if(e===0)return;const s=document.createElement("div");s.className="high-score-row";const c=document.createElement("span");c.textContent=`${n.icon} ${n.name}`;const o=document.createElement("span");o.className="hs-value",o.textContent=`${e} games`,s.appendChild(c),s.appendChild(o),a.appendChild(s)}),a.children.length===0){const n=document.createElement("p");n.className="no-scores",n.textContent="No weapon data yet",a.appendChild(n)}}function b(t){const a=document.getElementById("stats-recent"),l=t.recentGames||[];if(l.length===0){const n=document.createElement("p");n.className="no-scores",n.textContent="No recent games",a.appendChild(n);return}l.slice().reverse().forEach(n=>{const e=h[n.mode],s=document.createElement("div");s.className="high-score-row";const c=document.createElement("span");c.textContent=`${(e==null?void 0:e.icon)||"?"} ${(e==null?void 0:e.name)||n.mode}`;const o=document.createElement("span");o.className="hs-value",o.textContent=`${n.score} pts`,s.appendChild(c),s.appendChild(o),a.appendChild(s)})}let u=!1;r.waitReady().then(()=>{const t=r.profile,a=()=>{u||(u=!0,C(t))};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",a):a()});
