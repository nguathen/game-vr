import{a as i}from"./auth-manager-DjZ92ISH.js";const C={volume:80,sfx:!0,vibration:50,crosshairSize:"medium",crosshairColor:"#00ff88",highContrast:!1,reducedMotion:!1,autoSubmitScore:!0,showCombo:!0};function S(){var E;const o=i.profile,e={...C,...o.settings||{}},n=document.getElementById("setting-volume"),l=document.getElementById("volume-val"),r=document.getElementById("setting-sfx"),c=document.getElementById("setting-vibration"),u=document.getElementById("vibration-val"),m=document.getElementById("setting-crosshair-size"),a=document.getElementById("crosshair-colors"),h=document.getElementById("setting-high-contrast"),v=document.getElementById("setting-reduced-motion"),g=document.getElementById("setting-auto-submit"),f=document.getElementById("setting-show-combo"),s=document.getElementById("setting-music");n.value=e.volume,l.textContent=e.volume,r.checked=e.sfx,s&&(s.checked=e.music!==!1),c.value=e.vibration,u.textContent=e.vibration,m.value=e.crosshairSize,h.checked=e.highContrast,v.checked=e.reducedMotion,g.checked=e.autoSubmitScore,f.checked=e.showCombo,a.querySelectorAll(".color-swatch").forEach(t=>{t.dataset.color===e.crosshairColor?t.classList.add("selected"):t.classList.remove("selected"),t.addEventListener("click",()=>{a.querySelectorAll(".color-swatch").forEach(d=>d.classList.remove("selected")),t.classList.add("selected")})}),n.addEventListener("input",()=>{l.textContent=n.value}),c.addEventListener("input",()=>{u.textContent=c.value}),document.getElementById("btn-save").addEventListener("click",async()=>{var b;const t=((b=a.querySelector(".color-swatch.selected"))==null?void 0:b.dataset.color)||"#00ff88",d={volume:parseInt(n.value,10),sfx:r.checked,vibration:parseInt(c.value,10),crosshairSize:m.value,crosshairColor:t,highContrast:h.checked,reducedMotion:v.checked,autoSubmitScore:g.checked,showCombo:f.checked,music:s?s.checked:!0};await i.saveProfile({settings:d}),window.location.href="./index.html"}),(E=document.getElementById("btn-replay-tutorial"))==null||E.addEventListener("click",async()=>{await i.saveProfile({tutorialCompleted:!1}),window.location.href="./tutorial.html"}),document.getElementById("btn-back").addEventListener("click",()=>{window.location.href="./index.html"})}let y=!1;i.waitReady().then(()=>{const o=()=>{y||(y=!0,S())};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",o):o()});
